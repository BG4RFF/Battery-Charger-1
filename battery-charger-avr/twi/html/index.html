<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>AVR I2C Master Library: Atmel AVR I2C Master Library</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.1 -->
<div class="tabs">
  <ul>
    <li id="current"><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
  </ul></div>
<h1>Atmel AVR I2C Master Library</h1>
<p>
<h3 align="center">0.1 </h3>Library of I2C (TWI) functions for the Atmel AVR microcontrollers.<dl class="version" compact><dt><b>Version:</b></dt><dd>0.1 </dd></dl>
<dl class="author" compact><dt><b>Author:</b></dt><dd>Ken Sarkies (www.jiggerjuice.net) adapted from code by Chris Efstathiou </dd></dl>
<dl class="date" compact><dt><b>Date:</b></dt><dd>2 September 2007</dd></dl>
This library implements the TWI (compatible with I2C) functionality for Master Write and Master Read, allowing access to an external I2C device such as an EEPROM.<p>
Two buffers are maintained. The write buffer holds the bytes to be transmitted to the selected device, and the read buffer those to be received. All that is needed to setup a transaction, is to place the bytes to be written in the write buffer and to state the number of bytes to be read. The transaction is then initiated and the type of transaction is inferred. If the number of bytes to be written is zero, then a master read is performed. If the number of bytes to be read is zero, then a master write is performed. If both are nonzero then an atomic write followed by read is performed (this is needed anyway for reading an EEPROM as the address needs to be written first). The buffers are not circular - each transaction must be completed before the next is initiated.<p>
The procedure is:<ol type=1>
<li>Setup the transaction (clears the buffer pointers and sets the read count).</li><li>Write data to be sent into the write buffer.</li><li>Launch the transaction stating the number of bytes to read.</li><li>Determine the transaction status and the number of bytes sent/received.</li><li>Read received data from the read buffer.</li></ol>
<p>
<dl class="note" compact><dt><b>Note:</b></dt><dd>Software: AVR-GCC 3.4.5 <p>
Target: All Atmel MCUs with timer functionality <p>
Tested: ATMega88 at 8MHz. </dd></dl>
<hr size="1"><address style="align: right;"><small>Generated on Tue Sep 4 14:07:30 2007 for AVR I2C Master Library by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.1 </small></address>
</body>
</html>
